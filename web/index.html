<html>
<head>
	<meta charset="UTF-8"> 
	<title>Courses</title>
</head>
<body>
	<div id="theURL"></div>
	<script>
		String.prototype.unslash = function() {
			return this.replace(/\/+$/, '').replace(/^\/+/, '')
		}

		var _strouter = (() => {
			function _strouter(rt) {
				if (typeof rt === 'undefined') {
					return false
				}

				var undesired = ['courses','web'],
					pattern = '/page/sections/subsec/videos:subsec/subjects/videos',
					path = 'obj[this.route[0]]'
					
				this.route = rt.unslash().split('/').filter(word => !undesired.includes(word))

				pattern.match(/(\w+[\:]?\w+)/g).filter(function(o,i){
					var oo = o.split(':')
					if ( typeof oo[1] !== 'undefined' ) {
						o = ( this.route[1] === 'practice' ) ? oo[1] : oo[0]
					}
					if ( i !== 0 && i < this.route.length ) {
						path += '.'+o+'[this.route['+i+']]'
					}
				}, this)
				
				this.request = ((string) => {
					try {
						return eval(string)
					} catch (error) {
						return undefined
					}
				})(path)

				if ( typeof this.request === 'undefined' ) {
					this.request = null
				}

				return this
			}

			_strouter.prototype = {
			
			}
			return _strouter
		})()

		var obj = {
			'the-best-act-prep-course-ever' : {
				'sections' : {
					'english' : {
						'subsec' : {
							'content' : {
								'videos' : {
									'commas' : {
										'name' : 'Commas'
									}
								}
							}
						}
					},
					'practice' : {
						'subsec' : {
							'free-official-practice-test' : {
								'subsec' : {
									'test-1' : {
										'subjects' : {
											'english' : {
												'videos' : {
													'question-1' : {
														'name' : 'Question 1'
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}

		var app = document.getElementById('theURL')
		app.innerText = JSON.stringify(new _strouter(location.pathname))
	</script>
</body>
</html>
